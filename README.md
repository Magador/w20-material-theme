# W20 Material Theme

## Installation

```
bower install w20-material-theme
```

## Configuration

In `#/modules/main/theme`, `primaryPalette` and `accentPalette` properties MUST be defined. Each defined `*Palette` property MUST have at least their `name` properties defined. The `hues` property follows [Material Angular color intentions syntax](https://material.angularjs.org/latest/Theming/03_configuring_a_theme#specifying-custom-hues-for-color-intentions). A list of color palettes is present on the [Material Design Specification](http://www.google.com/design/spec/style/color.html#color-color-palette).

```javascript
"bower_components/w20-material-theme/w20-material-theme.w20.json": {
  "modules": {
    "sidenav": {
      "logoUrl": "/home",
      "logoImg": "/images/logo.png",
      "backgroundImg": "/images/header-background.jpg"
    },
    "main": {
      "theme": {
        "primaryPalette": {
          "name": "indigo",
          "hues": {
            "default": "400",
            "hue-1": "100",
            "hue-3": "A100"
          }
        },
        "accentPalette": {
          "name": "amber"
        },
        "warnPalette": {
          "name": "red",
          "hues": {
            "default": "400",
            "hue-2": "600"
          }
        },
        "backgroundPalette": {
          "name": "blue-grey"
        },
        "dark": true // Defaults to false
      }
    }
  }
}
```

## Usage

A simple usage would be:

```html
<!DOCTYPE html>
<html data-w20-app>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <title>W20 Material Theme Test</title>
  <script type="text/javascript" data-main="bower_components/w20/modules/w20" src="bower_components/requirejs/require.js"></script>
</head>
<body layout ng-cloak>
  <div id="w20-loading-cloak">
    <div class="w20-loading-indicator"></div>
  </div>
  <w20-material-sidenav></w20-material-sidenav>
  <main layout="column" flex>
    <w20-material-topbar search-placeholder="app.i18n.topbar.search.placeholder"></w20-material-topbar>
    <md-content ng-view layout="column" layout-align="start center" flex></md-content>
  </main>
  <div data-w20-error-report></div>
</body>
</html>
```

### w20-material-sidenav

Create a [Material Angular sidenav](https://material.angularjs.org/latest/demo/sidenav) based upon a [temporary drawer from the Material Design Specification](https://www.google.com/design/spec/patterns/navigation-drawer.html#navigation-drawer-behavior).

Generated by the `routes` property present in the fragment configuration. For each route, the `icon` property define its icon. Icons are [Material Design Icons](https://design.google.com/icons/). By default the icon is `arrow_right`.

```javascript
"routes": {
  "/home": {
    "templateUrl": "/views/home.html",
    "hidden": false,
    "icon": "home"
  }
},
```

#### 'w20.material.sidenav.open' event

`$scope.$emit('w20.material.sidenav.open'[, state])`: 
- `state`: Boolean. Open the sidenav if `true`. Optional

If `state` is omitted, the event toggle the state of the sidenav.

**Tips**: If you consider opening and closing the sidenav by swiping, bind the event emitters on `<body>` like below.

```html
<body md-swipe-left="$emit('w20.material.sidenav.open', false)" md-swipe-right="$emit('w20.material.sidenav.open', true)">
```

### w20-material-topbar

Create a [Material Angular toolbar](https://material.angularjs.org/latest/demo/toolbar) based upon a [toolbar from the Material Design Specification](https://www.google.com/design/spec/components/toolbars.html#toolbars-usage).

The elements in the topbar are purposely fixed in order to net being able to bloat the entire topbar with buttons. It is only composed of:
- Menu button to open the sidenav, hidden when the sidenav become fixed at larger resolutions
- View title, with its value from [`cultureService.displayName()`](https://github.com/seedstack/w20/blob/master/modules/culture.js)
- Search button to display a search input sending a `w20.material.topbar.search.query` event upon use

#### search-maxlength attribute

Define a maximum length of input. When the input is too long, a red underline appears.

#### search-placeholder attribute

Values are i18n key or simple string. If the attribute matches a i18n key, its value is retrieved through the `localize` w20 filter; if the value cannot be found, the literal string is displayed.

#### 'w20.material.topbar.search.query' event

This event is emitted when the value of the search input changes.
